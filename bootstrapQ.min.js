$.fn.qser=function(){var a={},b=$(this).serializeArray();if(b.length!=0)for(var c=0;c<b.length;c++)a[b[c].name]=b[c].value;return a};$.fn.qdata=function(){var a={},b=$(this).attr("data");if(b){b=b.split(";");for(var c=0;c<b.length;c++)if(b[c]){var d=b[c].split(":");a[d[0]]=d[1]}}return a};var qiao={};qiao.ajaxoptions={url:"",data:{},type:"post",dataType:"json",async:false};qiao.ajaxopt=function(a){var b=$.extend({},qiao.ajaxoptions);if(typeof a=="string")b.url=a;else $.extend(b,a);return b};
qiao.ajax=function(a){if(a){var b;$.ajax(qiao.ajaxopt(a)).done(function(c){b=c});return b}else alert("need options")};qiao.on=function(a,b,c){$(document).off(b,a).on(b,a,c)};bootstrapQ={};bootstrapQ.modaloptions={url:"",fade:"fade",close:true,title:"title",btn:false,okbtn:"\u786e\u5b9a",qubtn:"\u53d6\u6d88",msg:"msg",big:false,show:false,remote:false,backdrop:"static",keyboard:true,style:""};
bootstrapQ.modalstr=function(a){var b='<div class="modal '+a.fade+'" id="bsmodal" tabindex="-1" role="dialog" aria-labelledby="bsmodaltitle" aria-hidden="true" style="position:fixed;top:20px;'+a.style+'">';b+=a.big?'<div class="modal-dialog modal-lg"><div class="modal-content">':'<div class="modal-dialog"><div class="modal-content">';var c='<div class="modal-header">';if(a.close)c+='<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>';
c+='<h3 class="modal-title" id="bsmodaltitle">'+a.title+"</h3></div>";var d='<div class="modal-body"><p><h4>'+a.msg+"</h4></p></div>",e='<div class="modal-footer"><button type="button" class="btn btn-primary bsok">'+a.okbtn+"</button>";if(a.btn)e+='<button type="button" class="btn btn-default bscancel">'+a.qubtn+"</button>";e+="</div>";return b+c+d+e+"</div></div></div>"};
bootstrapQ.alert=function(a,b){var c=$.extend({},bootstrapQ.modaloptions);c.title="\u63d0\u793a";if(typeof a=="string")c.msg=a;else $.extend(c,a);$("body").append(bootstrapQ.modalstr(c));var d=$("#bsmodal");d.modal(c);qiao.on("button.bsok","click",function(){b&&b();d.modal("hide")});qiao.on("#bsmodal","hidden.bs.modal",function(){d.remove()});d.modal("show")};
bootstrapQ.confirm=function(a,b,c){var d=$.extend({},bootstrapQ.modaloptions);d.title="\u786e\u8ba4\u64cd\u4f5c";if(typeof a=="string")d.msg=a;else $.extend(d,a);d.btn=true;$("body").append(bootstrapQ.modalstr(d));var e=$("#bsmodal");e.modal(d);qiao.on("button.bsok","click",function(){b&&b();e.modal("hide")});qiao.on("button.bscancel","click",function(){c&&c();e.modal("hide")});qiao.on("#bsmodal","hidden.bs.modal",function(){e.remove()});e.modal("show")};
bootstrapQ.dialog=function(a,b){var c=$.extend({},bootstrapQ.modaloptions,a);c.big=true;$("body").append(bootstrapQ.modalstr(c));a=qiao.ajax({url:a.url,dataType:"html"});$("#bsmodal div.modal-body").empty().append(a);var d=$("#bsmodal");d.modal(c);qiao.on("button.bsok","click",function(){var e=true;if(b)e=b();e&&d.modal("hide")});qiao.on("#bsmodal","hidden.bs.modal",function(){d.remove()});d.modal("show")};bootstrapQ.msgoptions={msg:"msg",type:"info",time:2E3};
bootstrapQ.msgstr=function(a,b){return'<div class="alert alert-'+b+' alert-dismissible" role="alert" style="display:none;position:fixed;top:0;left:0;width:100%;z-index:2001;margin:0;text-align:center;" id="bsalert"><button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>'+a+"</div>"};
bootstrapQ.msg=function(a){var b=$.extend({},bootstrapQ.msgoptions);if(typeof a=="string")b.msg=a;else $.extend(b,a);$("body").prepend(bootstrapQ.msgstr(b.msg,b.type));$("#bsalert").slideDown();setTimeout(function(){$("#bsalert").slideUp(function(){$("#bsalert").remove()})},b.time)};bootstrapQ.popoptions={animation:true,container:"body",content:"content",html:true,placement:"bottom",title:"",trigger:"hover"};
$.fn.bstip=function(a){var b=$.extend({},bootstrapQ.popoptions);if(typeof a=="string")b.title=a;else $.extend(b,a);$(this).data(b).tooltip()};$.fn.bspop=function(a){var b=$.extend({},bootstrapQ.popoptions);if(typeof a=="string")b.content=a;else $.extend(b,a);$(this).popover(b)};bootstrapQ.bstrooptions={width:"500px",html:"true",nbtext:"\u4e0b\u4e00\u6b65",place:"bottom",title:"\u7f51\u7ad9\u4f7f\u7528\u5f15\u5bfc",content:"content"};
bootstrapQ.bstroinit=function(a,b,c){if(a){a=$(a);if(a.length>0){var d=$.extend({},bootstrapQ.bstrooptions,b);if(typeof b=="string")d.content=b;else $.extend(d,b);a.each(function(){$(this).attr({"data-bootstro-width":d.width,"data-bootstro-title":d.title,"data-bootstro-html":d.html,"data-bootstro-content":d.content,"data-bootstro-placement":d.place,"data-bootstro-nextButtonText":d.nbtext,"data-bootstro-step":c}).addClass("bootstro")})}}};
bootstrapQ.bstroopts={prevButtonText:"\u4e0a\u4e00\u6b65",finishButton:'<button class="btn btn-lg btn-success bootstro-finish-btn"><i class="icon-ok"></i>\u5b8c\u6210</button>',stopOnBackdropClick:false,stopOnEsc:false};
bootstrapQ.bstro=function(a,b){if(a&&a.length>0){for(var c=0;c<a.length;c++)bootstrapQ.bstroinit(a[c][0],a[c][1],c);a=$.extend({},bootstrapQ.bstroopts);if(b){if(b.hasOwnProperty("pbtn"))a.prevButtonText=b.pbtn;if(b.hasOwnProperty("obtn"))a.finishButton=b.obtn==""?"":'<button class="btn btn-mini btn-success bootstro-finish-btn"><i class="icon-ok"></i>'+b.obtn+"</button>";if(b.hasOwnProperty("stop")){a.stopOnBackdropClick=b.stop;a.stopOnEsc=b.stop}if(b.hasOwnProperty("exit"))a.onExit=b.exit}bootstro.start(".bootstro",
a)}};
